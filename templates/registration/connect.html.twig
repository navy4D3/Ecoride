{% set pageClass = 'connect' %}
{% extends 'base.html.twig' %}

{% block title %}Inscription{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('registerLogin') }}
{% endblock %}


{% block stylesheets %}
    {{ parent() }}
    
{% endblock %}

{% block body %}
    <a href="/" class="logo-top-left">      
            <svg  width="311" height="223" viewBox="0 0 311 223" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 4.08852C0 1.83049 1.83049 0 4.08852 0H207.969C231.679 0 250.899 19.2202 250.899 42.9295C250.899 66.6387 231.679 85.8589 207.969 85.8589H81.7705C36.6099 85.8589 0 49.2491 0 4.08852Z" fill="#386150"/>
                <path d="M311 217.873C311 220.306 309.027 222.279 306.593 222.279H107.324C81.7702 222.279 61.0552 201.564 61.0552 176.011C61.0552 150.457 81.7703 129.742 107.324 129.742H222.87C271.543 129.742 311 169.2 311 217.873Z" fill="#386150"/>
            </svg>
            <span >EcoRide</span>
    </a>

    <div class="form-section">
        
        <div class="form-section-form">
            <div class="register-login-btns">
                <h2 class="register-login-btns-register" id="register-label">Inscription</h2>
                <h2 class="register-login-btns-login" id="login-label">Connexion</h2>
            </div>
            {# {% for flash_error in app.flashes('verify_email_error') %}
                <div class="alert alert-danger" role="alert">{{ flash_error }}</div>
            {% endfor %} #}
            {% if errors %}
                {% if formType == 'register' %}
                    <div class="errors-container d-flex flex-column gap-1">
                        {% for error in errors %}
                            <div class="alert alert-danger">
                                {{ error.message }}
                            </div>
                        {% endfor %}
                    </div>
                {% else %}
                    {% if errors %}
                        <div class="errors-container alert alert-danger">{{ errors.messageKey|trans(errors.messageData, 'security') }}</div>
                    {% endif %}
                {% endif %}
                
                {# <p>{{ error }}</p> #}
                {# <p>test</p> #}
            {% endif %}
            
            <div class="form-container" id="form-container">
                {# {% if app.request.query.get('type') %}
                    {% if (app.request.query.get('type') == 'register' or type == "register") %}
                        {% include 'registration/register_form.html.twig' with {'registrationForm': registrationForm} %}  
                    {% else %}
                        {% include 'security/login_form.html.twig' %} 
                    {% endif %}
                {% else %}
                    {% include 'security/login_form.html.twig' %} 
                {% endif %}#}
                {# {% set queryType = app.request.query.get('type') %} 
                {% set isRegister = queryType == 'register' or formType == 'register' %} #}

                {% if formType == 'register' %}
                    {% include 'registration/register_form.html.twig' with {'registrationForm': registrationForm} %}
                {% else %}
                    {% include 'security/login_form.html.twig' %}
                {% endif %}


                
            </div>
            
        </div>
    </div>


    <div class="image-section">
        {# <img src="./home-background.jpg" alt=""> #}
    </div>

{% endblock %}
