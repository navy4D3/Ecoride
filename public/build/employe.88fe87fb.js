(self.webpackChunk=self.webpackChunk||[]).push([[330],{218:(e,t,n)=>{var r=n(28),i=r.showPopup,c=r.hidePopup,u=document.querySelectorAll(".edit-avis-statut-btn"),o=document.querySelector(".avis-section");u&&u.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault;var n=e.dataset.avisId,r="";e.classList.contains("visible")&&(r="?visible=true"),fetch("/avis/update-statut/"+n+r,{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(e){return e.json()})).then((function(e){if("success"==e.statut&&(document.getElementById(n).remove(),o.childElementCount<1)){var t=document.createElement("p");t.innerHTML="Aucun avis à traiter.",o.insertAdjacentElement("afterbegin",t)}})).catch((function(e){return console.error("Erreur:",e)}))}))}));var a=document.querySelector(".btns-section").querySelectorAll("button"),l=document.getElementById("treat-paiement-popup"),s=l.querySelector(".close-popup-btn"),d=l.querySelector(".valider-traitement"),f=document.getElementById("avis-visibility-popup");a&&a.forEach((function(e){e.addEventListener("click",(function(){var t=l.querySelector(".traitement-type"),n=l.querySelector(".chauffeur-paiement"),r=l.querySelector(".passager-paiement"),c=document.querySelectorAll(".finaliser-traitement-btn"),u=document.getElementById("cout-total-reservation").innerHTML;u=u.match(/(\d+)/)[0],"valider"==e.id?(t.innerHTML="de valider",n.innerHTML=u,r.innerHTML=0,c.forEach((function(e){return e.href+="&type=valider"}))):"equilibrer"==e.id?(t.innerHTML="d'equilibrer",n.innerHTML=Math.ceil(u/2),r.innerHTML=Math.ceil(u/2),c.forEach((function(e){return e.href+="&type=equilibrer"}))):(t.innerHTML="de rembourser",n.innerHTML=0,r.innerHTML=u,c.forEach((function(e){return e.href+="&type=rembourser"}))),n.innerHTML+=" crédits",r.innerHTML+=" crédits",i(l,"flex")}))})),s&&s.addEventListener("click",(function(){c(l)})),d&&d.addEventListener("click",(function(){c(l),i(f,"flex")}))}},e=>{e.O(0,[264,28],(()=>{return t=218,e(e.s=t);var t}));e.O()}]);